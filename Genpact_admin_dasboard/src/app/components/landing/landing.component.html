<div class="content-body">
    <div class="container">
        <div class="top-sec">
            <h1>Processed Files
                <span class="line-bottom"></span>
            </h1>
 </div>
        <div class="table-main">
            <div class="table-scrollcontainer" >
                <ng-container *ngTemplateOutlet="contentGridTpl1"></ng-container>
            </div>
        </div>
<ng-template #contentGridTpl1>
    <table class="table">
        <tr class="th-border-custom">
            <td class="table-fixedcolumn th-border-custom ">
                <kendo-grid #grid id="crsl-dashboard" [data]="gridData" [pageSize]="gridPageSize"
                    [skip]="skip" [filter]="state.filter" [sortable]="true"
                    [pageable]="true" filterable="menu" (pageChange)="pageChange($event)"
                    (filterChange)="filterChange($event)"
                    [selectable]="{ enabled: true, checkboxOnly: true }" [kendoGridSelectBy]="'fileName'"
                    [selectedKeys]="mySelection" [resizable]="true"
                    (selectedKeysChange)="onSelectedKeysChange($event)" [rowClass]="rowCallback">

                    
               
                    <kendo-grid-column field="fileName" title="File Name" width="150"
                        >
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <!-- <a [href]="dataItem.task_link" ngbTooltip="{{dataItem.entity_name}}" container="body">{{dataItem.entity_name}}</a> -->
                            <a (click)="getExpenseData(dataItem.caseId)" class="entity_link" ngbTooltip="{{dataItem.fileName}}" container="body">{{dataItem.fileName}}</a>
                        </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="recordCount" title="Record Count" width="150">
                       
                    </kendo-grid-column>
                    <kendo-grid-column field="processedCount" title="Processed Count" width="150"
                    [locked]="false" >
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <!-- <a [href]="dataItem.task_link" ngbTooltip="{{dataItem.entity_name}}" container="body">{{dataItem.entity_name}}</a> -->
                        <a (click)="getExpenseData(dataItem.caseId)" class="entity_link" ngbTooltip="{{dataItem.processedCount}}" container="body">{{dataItem.processedCount}}</a>
                    </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="createdBy" title="Created By" width="150"
                    [locked]="false" >
                    </kendo-grid-column>
					<kendo-grid-column field="startDate" title="Start Date" width="150"
                            [locked]="false" > </kendo-grid-column>
							<kendo-grid-column field="endDate" title="End Date" width="150"
                            [locked]="false" > </kendo-grid-column>
                  <!--  <kendo-grid-column field="startDate" title="Start Date"
                    width="200" filter="date" format="{0:dd/MM/yyyy HH:mm:s:fff}"
                    [locked]="false" >
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div *ngIf="dataItem.startDate != null">
                            {{ newDate(dataItem.startDate) }}</div>
                    </ng-template>
                </kendo-grid-column>

                    <kendo-grid-column field="endDate" title="End Date"
                    width="200" filter="date" format="{0:dd/MM/yyyy HH:mm:s:fff}"
                    [locked]="false" >
                    <ng-template kendoGridCellTemplate let-dataItem>
                        <div *ngIf="dataItem.endDate != null">
                            {{ newDate(dataItem.endDate) }}</div>
                    </ng-template>
                </kendo-grid-column>-->
                
                
                    <kendo-grid-column field="timeDifference" title="TAT(in SECONDS)" width="150" 
                    [locked]="false" >
                    </kendo-grid-column>

                </kendo-grid>
            </td>
        </tr>
    </table>

</ng-template>
<div class="top-sec">
    <h1>Expense Report
        <span class="line-bottom"></span>
    </h1>
</div>
<div class="table-main">
                    <div class="table-scrollcontainer" >
                        <ng-container *ngTemplateOutlet="contentGridTpl"></ng-container>
                    </div>
                </div>
        <ng-template #contentGridTpl>
            <table class="table">
                <tr class="th-border-custom">
                    <td class="table-fixedcolumn th-border-custom ">
                        <kendo-grid #grid id="crsl-dashboard" [data]="gridDataExpense" [pageSize]="gridPageSize"
                            [skip]="skip" [filter]="state.filter" [sortable]="true"
                            [pageable]="true" filterable="menu" (pageChange)="pageChange1($event)"
                            (filterChange)="filterChange2($event)"
                            [selectable]="{ enabled: true, checkboxOnly: true }" [kendoGridSelectBy]="'caseId'"
                            [selectedKeys]="mySelection" [resizable]="true"
                            (selectedKeysChange)="onSelectedKeysChange1($event)" [rowClass]="rowCallback">

                            
                       
                            <kendo-grid-column field="caseId" title="Case ID" width="140"
                                [locked]="true">
                                <ng-template kendoGridCellTemplate let-dataItem>
                                    <!-- <a [href]="dataItem.task_link" ngbTooltip="{{dataItem.entity_name}}" container="body">{{dataItem.entity_name}}</a> -->
                                    <a (click)="gotoForm(dataItem.caseId)" class="entity_link" ngbTooltip="{{dataItem.caseId}}" container="body">{{dataItem.caseId}}</a>
                                </ng-template>
                            </kendo-grid-column>
                          
							<kendo-grid-column field="startDate" title="Case ID Requested On" width="200"
                            [locked]="false" > </kendo-grid-column>
							<kendo-grid-column field="endDate" title="Case ID Recieved On" width="200"
                            [locked]="false" > </kendo-grid-column>
							
							 <kendo-grid-column field="caseTimeDiff" title="Latency(in MILLISECONDS)" width="150" 
							[locked]="false" >
					      </kendo-grid-column>
                            <kendo-grid-column field="amount" title="Amount" width="150"
                            [locked]="true" >
                            </kendo-grid-column>
                           
                            <kendo-grid-column field="status" title="Task Name" width="150" 
                            [locked]="false" >
                            </kendo-grid-column>

                            <kendo-grid-column field="assignedTo" title="Assigned To" width="150" 
                            [locked]="false" >
                        </kendo-grid-column>
                    
					
						<kendo-grid-column field="endDate" title="Case Start On" width="200"
                            [locked]="false" > </kendo-grid-column>
							<kendo-grid-column field="taskAssigned" title="Task Assign On" width="200"
                            [locked]="false" > </kendo-grid-column>

                   
                              <kendo-grid-column field="timeDifference" title="Latency (in MILLISECONDS)" width="150" 
                    [locked]="false" >
                    </kendo-grid-column>
					 <kendo-grid-column field="caseStatus" title="Status" width="150"
                            [locked]="false">
							  </kendo-grid-column>
					  <kendo-grid-column field="empId" title="Employee ID" width="150"
                            [locked]="false">
                               
                            </kendo-grid-column>
                            <kendo-grid-column field="empName" title="Employee Name" width="150"
                            [locked]="false" >
                            </kendo-grid-column>

                       </kendo-grid>
                    </td>
                </tr>
            </table>

        </ng-template>

        <ng-template #menustrip>
            <ul class="nav float-right">


                <li>
                    <a (click)="openModal(deleteconfirmation, 'delete','')"
                        [ngStyle]="{'color': isChecked ? '#000' : '#CCC' }">
                        <b>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="14" viewBox="0 0 12 14">
                                <g fill="none" fill-rule="evenodd">
                                    <path d="M-2-1h16v16H-2z" />
                                    <path fill="#AFAFB3"
                                        d="M6.5 0A1.5 1.5 0 0 1 8 1.5V2h4v1h-1v9.5A1.5 1.5 0 0 1 9.5 14h-7A1.5 1.5 0 0 1 1 12.5V3H0V2h4v-.5A1.5 1.5 0 0 1 5.5 0zM10 3H2v9.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V3zM6.5 5v6h-1V5h1zm2 0v6h-1V5h1zm-4 0v6h-1V5h1zm2-4h-1a.5.5 0 0 0-.5.5V2h2v-.5a.5.5 0 0 0-.5-.5z" />
                                </g>
                            </svg>
                        </b> Delete
                    </a>
                </li>
                <li>
                    <a [ngStyle]="{'color': isChecked ? '#000' : '#CCC' }" [attr.title]="isChecked ? '' : 'Please select Mandate id'"(click)="caseReject()">
                        <b>
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="14" viewBox="0 0 12 14">
                                <g fill="none" fill-rule="evenodd">
                                    <path d="M-2-1h16v16H-2z" />
                                    <path fill="#AFAFB3"
                                        d="M6.5 0A1.5 1.5 0 0 1 8 1.5V2h4v1h-1v9.5A1.5 1.5 0 0 1 9.5 14h-7A1.5 1.5 0 0 1 1 12.5V3H0V2h4v-.5A1.5 1.5 0 0 1 5.5 0zM10 3H2v9.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V3zM6.5 5v6h-1V5h1zm2 0v6h-1V5h1zm-4 0v6h-1V5h1zm2-4h-1a.5.5 0 0 0-.5.5V2h2v-.5a.5.5 0 0 0-.5-.5z" />
                                </g>
                            </svg>
                        </b> Reject
                    </a>
                </li>
             
                <li>
                    <a (click)="getFrommServerData2()" [ngStyle]="{'color':'#000'}">
                        <b>
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
                                <g fill="none" fill-rule="evenodd">
                                    <path d="M-1-1h16v16H-1z" />
                                    <path fill="#0D406D"
                                        d="M7.473 0a1.43 1.43 0 0 1 1.43 1.415v.825c.471.186.911.443 1.305.76l.69-.4a1.44 1.44 0 0 1 1.955.5l.465.805a1.43 1.43 0 0 1-.525 1.955l-.69.395a4.78 4.78 0 0 1 0 1.5l.69.395c.681.398.915 1.27.525 1.955l-.465.805a1.43 1.43 0 0 1-1.955.525l-.69-.4a5.035 5.035 0 0 1-1.305.76v.775c0 .79-.64 1.43-1.43 1.43h-.93a1.43 1.43 0 0 1-1.43-1.425v-.79a5.035 5.035 0 0 1-1.305-.76l-.69.4a1.44 1.44 0 0 1-1.955-.525l-.465-.805a1.43 1.43 0 0 1 .5-1.955l.69-.395a4.78 4.78 0 0 1 0-1.5l-.69-.395a1.44 1.44 0 0 1-.5-1.955l.465-.83a1.43 1.43 0 0 1 1.955-.5l.69.4a5.035 5.035 0 0 1 1.305-.76V1.43c0-.79.64-1.43 1.43-1.43zm0 1h-.93a.43.43 0 0 0-.43.44v1.5l-.35.11a4.15 4.15 0 0 0-1.56.91l-.27.245-1.315-.76a.43.43 0 0 0-.585.16l-.465.805a.43.43 0 0 0 .155.59l1.31.725-.075.36a4 4 0 0 0-.005 1.8l.08.36L1.723 9a.43.43 0 0 0-.155.605l.465.805a.435.435 0 0 0 .585.16l1.315-.76.27.245c.447.414.98.725 1.56.91l.35.11v1.5c0 .237.193.43.43.43h.955a.43.43 0 0 0 .43-.43v-1.5l.35-.11a4.15 4.15 0 0 0 1.56-.91l.27-.245 1.315.76a.43.43 0 0 0 .585-.16l.44-.805A.43.43 0 0 0 12.293 9l-1.285-.74.075-.36a4 4 0 0 0 .005-1.8l-.08-.36L12.293 5a.43.43 0 0 0 .155-.6l-.465-.805a.435.435 0 0 0-.585-.16l-1.315.76-.27-.245a4.15 4.15 0 0 0-1.56-.91l-.35-.11v-1.5a.43.43 0 0 0-.43-.43zm-.465 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </g>
                            </svg>
                        </b>Export to Excel</a>
                </li>
                <li *ngIf="mySelection.length > 0">
                    <a (click)="editExportExcel()" [ngStyle]="{'color': isChecked ? '#000' : '#CCC' }" >
                        <b>
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
                                <g fill="none" fill-rule="evenodd">
                                    <path d="M-1-1h16v16H-1z" />
                                    <path fill="#0D406D"
                                        d="M7.473 0a1.43 1.43 0 0 1 1.43 1.415v.825c.471.186.911.443 1.305.76l.69-.4a1.44 1.44 0 0 1 1.955.5l.465.805a1.43 1.43 0 0 1-.525 1.955l-.69.395a4.78 4.78 0 0 1 0 1.5l.69.395c.681.398.915 1.27.525 1.955l-.465.805a1.43 1.43 0 0 1-1.955.525l-.69-.4a5.035 5.035 0 0 1-1.305.76v.775c0 .79-.64 1.43-1.43 1.43h-.93a1.43 1.43 0 0 1-1.43-1.425v-.79a5.035 5.035 0 0 1-1.305-.76l-.69.4a1.44 1.44 0 0 1-1.955-.525l-.465-.805a1.43 1.43 0 0 1 .5-1.955l.69-.395a4.78 4.78 0 0 1 0-1.5l-.69-.395a1.44 1.44 0 0 1-.5-1.955l.465-.83a1.43 1.43 0 0 1 1.955-.5l.69.4a5.035 5.035 0 0 1 1.305-.76V1.43c0-.79.64-1.43 1.43-1.43zm0 1h-.93a.43.43 0 0 0-.43.44v1.5l-.35.11a4.15 4.15 0 0 0-1.56.91l-.27.245-1.315-.76a.43.43 0 0 0-.585.16l-.465.805a.43.43 0 0 0 .155.59l1.31.725-.075.36a4 4 0 0 0-.005 1.8l.08.36L1.723 9a.43.43 0 0 0-.155.605l.465.805a.435.435 0 0 0 .585.16l1.315-.76.27.245c.447.414.98.725 1.56.91l.35.11v1.5c0 .237.193.43.43.43h.955a.43.43 0 0 0 .43-.43v-1.5l.35-.11a4.15 4.15 0 0 0 1.56-.91l.27-.245 1.315.76a.43.43 0 0 0 .585-.16l.44-.805A.43.43 0 0 0 12.293 9l-1.285-.74.075-.36a4 4 0 0 0 .005-1.8l-.08-.36L12.293 5a.43.43 0 0 0 .155-.6l-.465-.805a.435.435 0 0 0-.585-.16l-1.315.76-.27-.245a4.15 4.15 0 0 0-1.56-.91l-.35-.11v-1.5a.43.43 0 0 0-.43-.43zm-.465 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </g>
                            </svg>
                        </b> Export to Edit Excel
                    </a>
                </li>
                <li *ngIf="mySelection.length == 0" class="export-edit" [attr.title]="isChecked ? '' : 'Please select Mandate id'" [ngStyle]="{'color':'#CCC' , 'cursor':'default' }">
                        <b>
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
                                <g fill="none" fill-rule="evenodd">
                                    <path d="M-1-1h16v16H-1z" />
                                    <path fill="#0D406D"
                                        d="M7.473 0a1.43 1.43 0 0 1 1.43 1.415v.825c.471.186.911.443 1.305.76l.69-.4a1.44 1.44 0 0 1 1.955.5l.465.805a1.43 1.43 0 0 1-.525 1.955l-.69.395a4.78 4.78 0 0 1 0 1.5l.69.395c.681.398.915 1.27.525 1.955l-.465.805a1.43 1.43 0 0 1-1.955.525l-.69-.4a5.035 5.035 0 0 1-1.305.76v.775c0 .79-.64 1.43-1.43 1.43h-.93a1.43 1.43 0 0 1-1.43-1.425v-.79a5.035 5.035 0 0 1-1.305-.76l-.69.4a1.44 1.44 0 0 1-1.955-.525l-.465-.805a1.43 1.43 0 0 1 .5-1.955l.69-.395a4.78 4.78 0 0 1 0-1.5l-.69-.395a1.44 1.44 0 0 1-.5-1.955l.465-.83a1.43 1.43 0 0 1 1.955-.5l.69.4a5.035 5.035 0 0 1 1.305-.76V1.43c0-.79.64-1.43 1.43-1.43zm0 1h-.93a.43.43 0 0 0-.43.44v1.5l-.35.11a4.15 4.15 0 0 0-1.56.91l-.27.245-1.315-.76a.43.43 0 0 0-.585.16l-.465.805a.43.43 0 0 0 .155.59l1.31.725-.075.36a4 4 0 0 0-.005 1.8l.08.36L1.723 9a.43.43 0 0 0-.155.605l.465.805a.435.435 0 0 0 .585.16l1.315-.76.27.245c.447.414.98.725 1.56.91l.35.11v1.5c0 .237.193.43.43.43h.955a.43.43 0 0 0 .43-.43v-1.5l.35-.11a4.15 4.15 0 0 0 1.56-.91l.27-.245 1.315.76a.43.43 0 0 0 .585-.16l.44-.805A.43.43 0 0 0 12.293 9l-1.285-.74.075-.36a4 4 0 0 0 .005-1.8l-.08-.36L12.293 5a.43.43 0 0 0 .155-.6l-.465-.805a.435.435 0 0 0-.585-.16l-1.315.76-.27-.245a4.15 4.15 0 0 0-1.56-.91l-.35-.11v-1.5a.43.43 0 0 0-.43-.43zm-.465 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </g>
                            </svg>
                        </b> 
                        <span class="p-8 export-label">Export to Edit Excel</span>
                </li>
               
                <li>
                    <a (click)="openModal(configureColumns,'configureColumns','')">
                        <b>
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
                                <g fill="none" fill-rule="evenodd">
                                    <path d="M-1-1h16v16H-1z" />
                                    <path fill="#0D406D"
                                        d="M7.473 0a1.43 1.43 0 0 1 1.43 1.415v.825c.471.186.911.443 1.305.76l.69-.4a1.44 1.44 0 0 1 1.955.5l.465.805a1.43 1.43 0 0 1-.525 1.955l-.69.395a4.78 4.78 0 0 1 0 1.5l.69.395c.681.398.915 1.27.525 1.955l-.465.805a1.43 1.43 0 0 1-1.955.525l-.69-.4a5.035 5.035 0 0 1-1.305.76v.775c0 .79-.64 1.43-1.43 1.43h-.93a1.43 1.43 0 0 1-1.43-1.425v-.79a5.035 5.035 0 0 1-1.305-.76l-.69.4a1.44 1.44 0 0 1-1.955-.525l-.465-.805a1.43 1.43 0 0 1 .5-1.955l.69-.395a4.78 4.78 0 0 1 0-1.5l-.69-.395a1.44 1.44 0 0 1-.5-1.955l.465-.83a1.43 1.43 0 0 1 1.955-.5l.69.4a5.035 5.035 0 0 1 1.305-.76V1.43c0-.79.64-1.43 1.43-1.43zm0 1h-.93a.43.43 0 0 0-.43.44v1.5l-.35.11a4.15 4.15 0 0 0-1.56.91l-.27.245-1.315-.76a.43.43 0 0 0-.585.16l-.465.805a.43.43 0 0 0 .155.59l1.31.725-.075.36a4 4 0 0 0-.005 1.8l.08.36L1.723 9a.43.43 0 0 0-.155.605l.465.805a.435.435 0 0 0 .585.16l1.315-.76.27.245c.447.414.98.725 1.56.91l.35.11v1.5c0 .237.193.43.43.43h.955a.43.43 0 0 0 .43-.43v-1.5l.35-.11a4.15 4.15 0 0 0 1.56-.91l.27-.245 1.315.76a.43.43 0 0 0 .585-.16l.44-.805A.43.43 0 0 0 12.293 9l-1.285-.74.075-.36a4 4 0 0 0 .005-1.8l-.08-.36L12.293 5a.43.43 0 0 0 .155-.6l-.465-.805a.435.435 0 0 0-.585-.16l-1.315.76-.27-.245a4.15 4.15 0 0 0-1.56-.91l-.35-.11v-1.5a.43.43 0 0 0-.43-.43zm-.465 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </g>
                            </svg>
                        </b>Configure Columns</a>
                </li>
                <li>
                    <!-- <a title="Mandate Creation / Updation logs" class="fa fa-server" (click)="openModal(mandateCreateUpdateLog,'mandateCreateUpdateLog','')"></a> -->
                </li>
            </ul>
        </ng-template>
      
    </div>
</div>
<app-loading></app-loading>
